!function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)t.d(r,i,function(e){return n[e]}.bind(null,i));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";t.r(e);var r=class{constructor(){this.parentInput=null,this.isValid=!0}deleteEmail(n){this.parentInput.parentElement.removeChild(this.parentInput)}generate(n,e){this.parentInput=n.parentElement,this.isValid=e;let t=document.createElement("span");t.setAttribute("class",e?"inputCorrect":"inputIncorrect"),t.addEventListener("click",n=>this.deleteEmail(n)),this.parentInput.append(t)}};var i=n=>{const e=document.createElement("style");e.textContent="\n        @import url('https://fonts.googleapis.com/css?family=Open+Sans&display=swap');\n\n        .inputCorrect {\n            width: calc(100% - 13px);\n            position: absolute;\n            right: 6px;\n            top: 12px;\n            width: 10px;\n            height: 10px;\n            background: 0 0;\n            transform: rotate(45deg);\n            cursor: pointer;\n        }\n        .inputCorrect::after {\n            position: absolute;\n            content: '';\n            width: 9px;\n            height: 1px;\n            margin-left: -4px;\n            background: black;\n        }\n        .inputCorrect::before {\n            position: absolute;\n            content: '';\n            width: 1px;\n            height: 9px;\n            margin-top: -4px;\n            background: black;\n        }\n        .inputIncorrect {\n            position: absolute;\n            right: -13px;\n            top: 12px;\n            width: 10px;\n            height: 10px;\n            background: 0 0;\n            transform: rotate(45deg);\n            cursor: pointer;\n        }\n        .inputIncorrect::after {\n            position: absolute;\n            content: '';\n            width: 9px;\n            height: 1px;\n            margin-left: -4px;\n            background: #C3C2CF;\n        }\n        .inputIncorrect::before {\n            position: absolute;\n            content: '';\n            width: 1px;\n            height: 9px;\n            margin-top: -4px;\n            background: #C3C2CF;\n        }\n        .formContainer {\n            height: 300px;\n            width: 540px;\n            background: #FFFFFF;\n            box-shadow: 0px 8px 20px rgba(0, 0, 0, 0.2);\n            overflow: hidden;\n            font-family: 'Open Sans', sans-serif;\n        }\n        .upperContainer {\n            height: 204px;\n            width: 100%;\n            background: #F8F8F7;\n            border-radius: 8px 8px 0 0;\n        }\n        .header {\n            font-size: 20px;\n            line-height: 27px;\n            margin-bottom: 24px;\n            width: 100%;\n            position: absolute;\n            top: 32px;\n            left: 50px;\n        }\n        .inputContainer {\n            overflow: auto;\n            width: 440px;\n            height: 96px;\n            border: 1px solid #C3C2CF;\n            box-sizing: border-box;\n            border-radius: 4px;\n            background: #FFFFFF;\n            font-family: Open Sans;\n            font-size: 14px;\n            line-height: 24px;\n            padding: 8px 7px;\n            position: relative;\n            top: 84px;\n            left: 50px;\n        }\n        input {\n            -webkit-appearance: none;\n        }\n        input::placeholder {\n            color: #C3C2CF;\n            font-family: Open Sans;\n            font-size: 14px;\n            line-height: 24px;\n        }\n        .lowerContainer {\n            background-color: #FFFFFF;\n            width: 540px;\n            height: 96px;\n            border-radius: 0 0 8px 8px;\n            padding: 24px 50px;\n        }\n        .addEmailButton {\n            background: #4262FF;\n            border-radius: 6px;\n            width: 96px;\n            height: 40px;\n            display: inline-block;\n            border: none;\n            font-family: Open Sans;\n            font-size: 14px;\n            line-height: 24px;\n            color: #FFFFFF;\n            margin-right: 16px;\n            outline: none;\n        }\n        .addEmailButton:hover {\n            background-color: #455bed;\n            cursor: pointer;\n        }\n        .countEmailButton {\n            background: #4262FF;\n            border-radius: 6px;\n            width: 142px;\n            height: 40px;\n            display: inline-block;\n            border: none;\n            font-family: Open Sans;\n            font-size: 14px;\n            line-height: 24px;\n            color: #FFFFFF;\n            outline: none;\n        }\n        .countEmailButton:hover {\n            background-color: #455bed;\n            cursor: pointer;\n        }\n        .emailLabel {\n            background: rgba(102, 153, 255, 0.2);\n            border-radius: 100px;\n            position: absolute;\n            left: 0;\n        }\n        .emailInput {\n            width: inherit;\n            border: 0;\n            appearance: none;\n            outline: none;\n            font-family: Open Sans;\n            font-size: 14px;\n            line-height: 24px;\n        }\n    ",n.appendChild(e)};var a=class{constructor(){this.min=3,this.max=0}setStringLength(n){return this.max=n,Math.random()*(this.max-this.min)+this.min}setString(n){let e="";for(let t=0;t<n;t++){e+=Math.random().toString(36).substring(11)}if(e.length>this.max){let n=e.length-this.max;return e.substring(n)}return e}generate(){let n=this.setStringLength(12),e=this.setString(n),t=this.setStringLength(4);return`${e}@${this.setString(t)}.ru`}};const o={emailBlock:new class{constructor(){this.regExp=/^[a-z0-9._+-]+@[a-z0-9.-]+\.[a-z]{2,64}/i,this.root=null,this.emails=[],this.currentEmptyEmail=null}getAllEmails(){return this.emails}createEmail(n){let e=!!this.regExp.test(n.value),t=document.createElement("span");t.innerHTML=n.value,n.parentNode.appendChild(t),n.style.display="none",e?(this.emails.push(n),n.parentNode.style.backgroundColor="rgba(102, 153, 255, 0.2)",n.parentNode.style.borderRadius="100px",n.parentNode.style.padding="0 10px",n.parentNode.style.margin="0 5px 0 0",t.style.padding="0 10px 0 0"):(t.style.borderBottom="1px dashed #d14836",n.parentNode.style.margin="0 20px 0 0"),(new r).generate(n,e),this.currentEmptyEmail=null}checkEmailValue(n){console.log("checkEmailValue",n.value);let e=n.value.replace(/\s/g,"");if(-1!==e.indexOf(",")){let t=e.split(",");return n.value=t[0],this.createEmail(n),t.shift(),void t.map(n=>this.generateNewInput(this.root,n))}n.value=e,this.createEmail(n),this.generateNewInput(this.root)}handleKeyPress(n){13!==n.keyCode&&44!==n.keyCode||this.checkEmailValue(n.target)}handleBlur(n){if(n.target.value.length>0){if("none"===n.target.style.display)return;this.checkEmailValue(n.target)}}generateNewInput(n,e){let t;if(this.root||(this.root=n),this.currentEmptyEmail)t=this.currentEmptyEmail;else{let n=document.createElement("span");n.setAttribute("class","inputCont"),n.style.position="relative",t=document.createElement("input"),t.setAttribute("class","emailInput"),t.setAttribute("type","text"),t.setAttribute("placeholder","add more people..."),this.currentEmptyEmail=t,n.append(t),this.root.append(n)}if(e)return t.value=e,void this.checkEmailValue(t);t.addEventListener("keypress",n=>{t.removeEventListener("blur",n=>this.handleBlur(n)),this.handleKeyPress(n,t)}),t.addEventListener("blur",n=>this.handleBlur(n))}}};o.generate=n=>{var e=document.createElement("div");e.setAttribute("class","formContainer");var t=document.createElement("div");t.setAttribute("class","upperContainer"),e.append(t);var r=document.createElement("div");r.setAttribute("class","header"),r.innerHTML="Share <strong>Board name</strong> with others",t.append(r);var l=document.createElement("div");l.setAttribute("class","inputContainer"),t.append(l),o.emailBlock.generateNewInput(l);var p=document.createElement("div");p.setAttribute("class","lowerContainer"),e.append(p);var s=document.createElement("button");s.setAttribute("class","addEmailButton"),s.onclick=function(){var n=new a;o.emailBlock.generateNewInput(null,n.generate())},s.innerHTML="Add email",p.append(s);var u=document.createElement("button");u.setAttribute("class","countEmailButton"),u.onclick=function(){(n=>{let e=n.getAllEmails().map(n=>n.value);alert(`Valid emails: ${e.length}`)})(o.emailBlock)},u.innerHTML="Get emails count",p.append(u),i(n),n.appendChild(e)},o.getEmailList=()=>{return o.emailBlock.getAllEmails().map(n=>n.value)};var l=o;const p=document.querySelector("#emails-editor");l.generate(p)}]);